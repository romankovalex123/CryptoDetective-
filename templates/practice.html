{% extends "base.html" %}

{% block title %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è{% endblock %}

{% block content %}
<div style="text-align: center; margin-bottom: 60px;">
    <h1>üß™ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</h1>
    <p style="font-size: 1.3rem; color: #aaa;">
        –¢–µ–æ—Ä–∏—è –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ –º–µ—Ä—Ç–≤–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–æ–∏ —Å–∏–ª—ã.
    </p>
</div>

<div class="container">
    {% for task in tasks %}
    <div class="card" id="task-card-{{ task.id }}">
        <h2>–ó–∞–¥–∞—á–∞ #{{ task.id }}: {{ task.title }}</h2>

        <div style="font-size: 1.2rem; margin-bottom: 20px;">
            {{ task.desc | safe }}
        </div>

        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-left: 3px solid #777; font-style: italic; font-size: 1rem; color: #ccc; margin-bottom: 20px;">
            üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: {{ task.hint }}
        </div>

        <input type="text" id="input-{{ task.id }}" class="practice-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç...">

        <div id="feedback-{{ task.id }}" class="practice-feedback"></div>

        <button onclick="checkAnswer({{ task.id }}, '{{ task.answer }}')" class="btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
    </div>
    {% endfor %}
</div>

<script>
    function checkAnswer(id, correctAnswer) {
        let inputField = document.getElementById('input-' + id);
        let feedback = document.getElementById('feedback-' + id);

        if (!inputField || !feedback) return;

        let input = inputField.value.trim().toUpperCase();

        if (input === correctAnswer.toUpperCase()) {
            feedback.innerHTML = "‚úÖ –í–µ—Ä–Ω–æ! –î–æ—Å—Ç—É–ø –ø–æ–ª—É—á–µ–Ω.";
            feedback.className = "practice-feedback feedback-correct";
        } else {
            feedback.innerHTML = "‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.";
            feedback.className = "practice-feedback feedback-incorrect";
        }
        feedback.style.display = 'block';
    }
</script>
{% endblock %}
